{"version":3,"sources":["webpack:///D:/HbuilderX-Storage/jiudao/components/classic-content/classic-content.vue","webpack:///D:/HbuilderX-Storage/jiudao/components/classic-content/classic-content.vue?dbbc","webpack:///D:/HbuilderX-Storage/jiudao/components/classic-content/classic-content.vue?d9c7","webpack:///D:/HbuilderX-Storage/jiudao/components/classic-content/classic-content.vue?918c","webpack:///D:/HbuilderX-Storage/jiudao/components/classic-content/classic-content.vue?f101","webpack:///D:/HbuilderX-Storage/jiudao/components/classic-content/classic-content.vue?c14b","webpack:///D:/HbuilderX-Storage/jiudao/components/classic-content/classic-content.vue?5bda"],"names":["props","classicContent","type","Object","default","index","Number","data","musicShow","isPlayingMusic","adminMusicChange","category","currentIndex","favNums","created","methods","onMusicPlay","e","backgroundAudioManager","uni","getBackgroundAudioManager","config","title","split","singer","src","url","coverImgUrl","image","pause","assign","setMusicMonitor","that","onPlay","onPause","onEnded","watch","newVal","oldVal","fav_nums","components","UserStar"],"mappings":"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","file":"components/classic-content/classic-content.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport UserStar from 'components/user-star/user-star'\n\nexport default {\n\tprops: {\n\t\tclassicContent: {\n\t\t\ttype: Object,\n\t\t\tdefault() {\n\t\t\t\treturn {}\n\t\t\t}\n\t\t},\n\t\tindex: { // 记录页面的索引\n\t\t\ttype: Number,\n\t\t\tdefault: 0\n\t\t}\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tmusicShow: false, // 记录音乐播放器显示状态\n\t\t\tisPlayingMusic: false, // 记录音乐播放状态\n\t\t\tadminMusicChange: false, // 记录后台操作音乐播放与暂停的状态\n\t\t\tcategory: 'movie', // 记录类型图标\n\t\t\tcurrentIndex: 0, // 记录当前项索引\n\t\t\tfavNums: 0\n\t\t}\n\t},\n\n\tcreated() {\n\t\t// console.log(this.index)\n\t},\n\n\tmethods: {\n\t\tonMusicPlay(e) {\n\t\t\tlet backgroundAudioManager = uni.getBackgroundAudioManager()\n\t\t\tlet config = { // 歌曲详情配置\n\t\t\t\ttitle: this.classicContent.title.split('《')[1].split('》')[0],\n\t\t\t\tsinger: this.classicContent.title.split('《')[0],\n\t\t\t\tsrc: this.classicContent.url,\n\t\t\t\tcoverImgUrl: this.classicContent.image\n\t\t\t}\n\n\t\t\tif (this.isPlayingMusic) {\n\t\t\t\tbackgroundAudioManager.pause()\n\t\t\t\tthis.isPlayingMusic = false\n\t\t\t} else { // 初始化音乐播放\n\t\t\t\t// 为 backgroundAudioManager 对象添加属性\n\t\t\t\tObject.assign(backgroundAudioManager, config)\n\t\t\t\t\n\t\t\t\tthis.isPlayingMusic = true\n\t\t\t\tthis.currentIndex = this.classicContent.index // 记录当前播放音乐索引\n\t\t\t}\n\n\t\t\tthis.setMusicMonitor(backgroundAudioManager)\n\t\t},\n\n\t\tsetMusicMonitor(backgroundAudioManager) {\n\t\t\tlet that = this // 解决回调中 this 问题\n\n\t\t\tbackgroundAudioManager.onPlay(function() { // 监听播放状态\n\t\t\t\tthat.adminMusicChange = false\n\t\t\t\tif (that.index === that.currentIndex) {\n\t\t\t\t\tthat.isPlayingMusic = true\n\t\t\t\t}\n\t\t\t})\n\t\t\tbackgroundAudioManager.onPause(function() { // 监听暂停状态\n\t\t\t\tthat.adminMusicChange = true\n\t\t\t\tif (that.index === that.currentIndex) {\n\t\t\t\t\tthat.isPlayingMusic = false\n\t\t\t\t}\n\t\t\t})\n\t\t\tbackgroundAudioManager.onEnded(function() { // 监听自然播放完成状态\n\t\t\t\t// 播放完成之后清除播放状态缓存\n\t\t\t\tthat.isPlayingMusic = false\n\t\t\t\tthat.currentIndex = 0\n\t\t\t})\n\t\t}\n\t},\n\n\twatch: {\n\t\tclassicContent(newVal, oldVal) {\n\t\t\tlet type = newVal.type // 获取结果类型\n\t\t\t\n\t\t\tthis.favNums = newVal.fav_nums\n\t\t\t// 判断类型，显示对应icon和显示音乐播放器\n\t\t\tswitch (type) {\n\t\t\t\tcase 100:\n\t\t\t\t\tthis.category = 'movie'\n\t\t\t\t\tthis.musicShow = false\n\t\t\t\t\tbreak\n\t\t\t\tcase 200:\n\t\t\t\t\tthis.category = 'music'\n\t\t\t\t\tthis.musicShow = true\n\t\t\t\t\tthis.isPlayingMusic = false\n\t\t\t\t\t// 当正在播放音乐状态为播放时，且正在播放音乐索引和当前页面音乐索引相同时，显示播放状态，否则显示暂停状态\n\t\t\t\t\tif (!this.adminMusicChange && this.index === this.currentIndex) {\n\t\t\t\t\t\tthis.isPlayingMusic = true\n\t\t\t\t\t} else if (this.adminMusicChange && this.index === this.currentIndex) {\n\t\t\t\t\t\tthis.isPlayingMusic = false\n\t\t\t\t\t}\n\t\t\t\t\tbreak\n\t\t\t\tcase 300:\n\t\t\t\t\tthis.category = 'poetry'\n\t\t\t\t\tthis.musicShow = false\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t},\n\t\n\tcomponents: {\n\t\tUserStar\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./classic-content.vue?vue&type=template&id=3fc15f80&scoped=true&\"\nimport script from \"./classic-content.vue?vue&type=script&lang=js&\"\nexport * from \"./classic-content.vue?vue&type=script&lang=js&\"\nimport style0 from \"./classic-content.vue?vue&type=style&index=0&id=3fc15f80&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3fc15f80\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('3fc15f80', component.options)\n    } else {\n      api.reload('3fc15f80', component.options)\n    }\n    module.hot.accept(\"./classic-content.vue?vue&type=template&id=3fc15f80&scoped=true&\", function () {\n      api.rerender('3fc15f80', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"D:/HbuilderX-Storage/jiudao/components/classic-content/classic-content.vue\"\nexport default component.exports","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./classic-content.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./classic-content.vue?vue&type=script&lang=js&\"","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./classic-content.vue?vue&type=style&index=0&id=3fc15f80&scoped=true&lang=css&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./classic-content.vue?vue&type=style&index=0&id=3fc15f80&scoped=true&lang=css&\"","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./classic-content.vue?vue&type=template&id=3fc15f80&scoped=true&\""],"sourceRoot":""}