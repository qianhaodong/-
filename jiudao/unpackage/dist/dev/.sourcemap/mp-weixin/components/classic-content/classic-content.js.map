{"version":3,"sources":["webpack:///D:/git-project/miniprogress/jiudao/components/classic-content/classic-content.vue","webpack:///D:/git-project/miniprogress/jiudao/components/classic-content/classic-content.vue?d327","webpack:///D:/git-project/miniprogress/jiudao/components/classic-content/classic-content.vue?dcf0","webpack:///D:/git-project/miniprogress/jiudao/components/classic-content/classic-content.vue?d546","webpack:///D:/git-project/miniprogress/jiudao/components/classic-content/classic-content.vue?c664","webpack:///D:/git-project/miniprogress/jiudao/components/classic-content/classic-content.vue?0144","webpack:///D:/git-project/miniprogress/jiudao/components/classic-content/classic-content.vue?722f"],"names":["mixins","likeMixin","props","classicContent","type","Object","default","index","Number","isPlaying","Boolean","data","musicShow","isPlayingIcon","category","currentIndex","computed","methods","onMusicPlay","e","backgroundAudioManager","uni","getBackgroundAudioManager","config","title","split","singer","src","url","coverImgUrl","image","playing","pause","setPlayingState","assign","setCurrentPlayIndex","setMusicMonitor","that","onPlay","currentPlayIndex","onPause","onEnded","watch","newVal","oldVal","flag"],"mappings":"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","file":"components/classic-content/classic-content.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { likeMixin } from 'common/utils/mixin'\nimport { mapGetters, mapMutations } from 'vuex'\n\nexport default {\n\tmixins: [likeMixin],\n\t\n\tprops: {\n\t\tclassicContent: {\n\t\t\ttype: Object,\n\t\t\tdefault() {\n\t\t\t\treturn {}\n\t\t\t}\n\t\t},\n\t\tindex: { // 记录页面的索引\n\t\t\ttype: Number,\n\t\t\tdefault: 0\n\t\t},\n\t\tisPlaying: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false\n\t\t}\n\t},\n\n\tdata() {\n\t\treturn {\n\t\t\tmusicShow: false, // 记录音乐播放器显示状态\n\t\t\tisPlayingIcon: false, // 记录音乐播放图标\n\t\t\tcategory: 'movie', // 记录类型图标\n\t\t\tcurrentIndex: 0 // 记录当前项索引\n\t\t}\n\t},\n\n\tcomputed: {\n\t\t...mapGetters([\n\t\t\t'playing',\n\t\t\t'currentPlayIndex'\n\t\t])\n\t},\n\n\tmethods: {\n\t\tonMusicPlay(e) {\n\t\t\tlet backgroundAudioManager = uni.getBackgroundAudioManager()\n\t\t\tlet config = { // 歌曲详情配置\n\t\t\t\ttitle: this.classicContent.title.split('《')[1].split('》')[0],\n\t\t\t\tsinger: this.classicContent.title.split('《')[0],\n\t\t\t\tsrc: this.classicContent.url,\n\t\t\t\tcoverImgUrl: this.classicContent.image\n\t\t\t}\n\n\t\t\tif (this.playing) {\n\t\t\t\tbackgroundAudioManager.pause()\n\t\t\t\tthis.isPlayingIcon = false\n\t\t\t\t// this.startRotate = false\n\t\t\t\tthis.setPlayingState(false)\n\t\t\t} else { // 初始化音乐播放\n\t\t\t\t// 为 backgroundAudioManager 对象添加属性\n\t\t\t\tObject.assign(backgroundAudioManager, config)\n\t\t\t\t\n\t\t\t\tthis.isPlayingIcon = true\n\t\t\t\t// this.startRotate = true\n\t\t\t\tthis.setPlayingState(true) // 更改音乐播放状态\n\t\t\t\tthis.setCurrentPlayIndex(this.classicContent.index) // 记录当前播放音乐索引\n\t\t\t}\n\n\t\t\tthis.setMusicMonitor(backgroundAudioManager)\n\t\t},\n\n\t\tsetMusicMonitor(backgroundAudioManager) {\n\t\t\tlet that = this // 解决回调中 this 问题\n\n\t\t\tbackgroundAudioManager.onPlay(function() { // 监听播放状态\n\t\t\t\tthat.setPlayingState(true)\n\t\t\t\tif (that.index === that.currentPlayIndex) {\n\t\t\t\t\tthat.isPlayingIcon = true\n\t\t\t\t}\n\t\t\t})\n\t\t\tbackgroundAudioManager.onPause(function() { // 监听暂停状态\n\t\t\t\tthat.setPlayingState(false)\n\t\t\t\tif (that.index === that.currentPlayIndex) {\n\t\t\t\t\t// console.log(that.isPlayingIcon);\n\t\t\t\t\tthat.isPlayingIcon = false\n\t\t\t\t\t// console.log(that.isPlayingIcon);\n\t\t\t\t}\n\t\t\t})\n\t\t\tbackgroundAudioManager.onEnded(function() { // 监听自然播放完成状态\n\t\t\t\t// 播放完成之后清除播放状态缓存\n\t\t\t\tthat.isPlayingIcon = false\n\t\t\t\tthat.setPlayingState(false)\n\t\t\t\tthat.setCurrentPlayIndex(-1)\n\t\t\t})\n\t\t},\n\t\t\n\t\t...mapMutations({\n\t\t\tsetPlayingState: 'SET_PLAYING_STATE',\n\t\t\tsetCurrentPlayIndex: 'SET_CURRENTPLAY_INDEX'\n\t\t})\n\t},\n\n\twatch: {\n\t\tclassicContent(newVal, oldVal) {\n\t\t\tlet type = newVal.type // 获取类型\n\t\t\t\n\t\t\t// 当音乐播放状态为播放时，且正在播放音乐索引和当前页面音乐索引相同时，显示播放状态，否则显示暂停状态\n\t\t\tif (this.playing && this.index === this.currentPlayIndex) {\n\t\t\t\tthis.isPlayingIcon = true\n\t\t\t} else {\n\t\t\t\tthis.isPlayingIcon = false\n\t\t\t}\n\t\t\t\n\t\t\t// 判断类型，显示对应icon和显示音乐播放器\n\t\t\tswitch (type) {\n\t\t\t\tcase 100:\n\t\t\t\t\tthis.category = 'movie'\n\t\t\t\t\tthis.musicShow = false\n\t\t\t\t\tbreak\n\t\t\t\tcase 200:\n\t\t\t\t\tthis.category = 'music'\n\t\t\t\t\tthis.musicShow = true\n\t\t\t\t\tbreak\n\t\t\t\tcase 300:\n\t\t\t\t\tthis.category = 'poetry'\n\t\t\t\t\tthis.musicShow = false\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t},\n\t\t\n\t\tisPlaying(flag) {\n\t\t\tthis.isPlayingIcon = flag\n\t\t}\n\t}\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = _vm.getLikeImg(_vm.classicContent)\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0\n      }\n    }\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./classic-content.vue?vue&type=template&id=4c74b088&scoped=true&\"\nimport script from \"./classic-content.vue?vue&type=script&lang=js&\"\nexport * from \"./classic-content.vue?vue&type=script&lang=js&\"\nimport style0 from \"./classic-content.vue?vue&type=style&index=0&id=4c74b088&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c74b088\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('4c74b088', component.options)\n    } else {\n      api.reload('4c74b088', component.options)\n    }\n    module.hot.accept(\"./classic-content.vue?vue&type=template&id=4c74b088&scoped=true&\", function () {\n      api.rerender('4c74b088', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"D:/git-project/miniprogress/jiudao/components/classic-content/classic-content.vue\"\nexport default component.exports","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./classic-content.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./classic-content.vue?vue&type=script&lang=js&\"","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./classic-content.vue?vue&type=style&index=0&id=4c74b088&scoped=true&lang=css&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./classic-content.vue?vue&type=style&index=0&id=4c74b088&scoped=true&lang=css&\"","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./classic-content.vue?vue&type=template&id=4c74b088&scoped=true&\""],"sourceRoot":""}